<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
     <mapper namespace="com.spring.magicMall.user.repository.IExtraAddressMapper">
     
	   
	   <!-- db와 필드 매핑 -->
		<resultMap id="resultMap" type="com.spring.magicMall.user.model.ExtraAddressVO">
			<id property="addNo" column="add_no"/>
			<result property="userNo" column="user_no"/>
			<result property="addName" column="add_name"/>
			<result property="address" column="address"/>
		</resultMap>
	
		
		<!-- 가입시 기본 주소지 저장, 새로운 주소지 저장 -->
		<insert id="defaultAdd">
			INSERT INTO extra_address(user_no,add_name,address)
			VALUES(#{userNo},#{addName},#{address})
		</insert>
		
		<!-- 배송지 조회 -->
		<select id="addresses" resultMap="resultMap">
			SELECT * FROM extra_address
			WHERE user_no =#{userNo};		
		</select>
		
		<!-- 개별 배송지 조회 -->
		<select id="oneAddress" resultMap="resultMap">
			SELECT * FROM extra_address
			WHERE add_no =#{addNo};
		
		</select>
		
		<!-- 배송지 삭제 -->
		<delete id="addressDelete">
			DELETE FROM extra_address
			WHERE add_no = #{addNo};
		</delete>
		
		<!-- 배송지 수정 -->
		<update id="addressEdit">
			UPDATE extra_address SET add_name=#{addName},address=#{address}
			WHERE add_no=#{addNo};		
		</update>
		
		
   </mapper>